#N canvas 244 0 1034 772 10;
#X declare -path ./subpatches/euclidean;
#X obj 100 120 cnv 15 210 190 empty empty empty 7 7 0 14 #fdf6e3 #ffffff
0;
#X obj 1300 100 inlet~ left;
#X obj 1400 100 inlet~ right;
#X obj 1500 100 inlet note;
#X obj 1640 100 inlet ctl;
#X obj 1300 300 outlet~ left;
#X obj 1400 300 outlet~ right;
#X obj 1500 300 outlet note;
#X obj 1640 420 outlet ctl;
#X obj 720 60 r save-state-\$0;
#X obj 786 408 s save-state-\$0;
#X obj 160 130 tgl 15 1 from-loop-\$0 to-loop-\$0 loop 20 5 0 10 #ffffff
#000000 #000000 1 1;
#X obj 110 130 tgl 15 1 from-play-\$0 to-play-\$0 play 20 5 0 10 #ffffff
#000000 #000000 1 1;
#X obj 1510 260 r to-note-out-\$0;
#X obj 720 380 savestate, f 11;
#X text 810 380 üëà bangs when parent is saved;
#X obj 720 300 f;
#X obj 720 410 t b l;
#X obj 720 650 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 720 670 s to-units-\$0;
#X obj 100 100 cnv 15 210 20 empty empty bop.euclidean 7 7 0 14 #bca9fc
#ffffff 0;
#X text 2580 1740 comment;
#X floatatom 70 470 5 0 0 0 - - -, f 5;
#X floatatom 210 470 5 0 0 0 - - -, f 5;
#X floatatom 360 470 5 0 0 0 - - -, f 5;
#X floatatom 2402 982 5 0 0 0 - - -, f 5;
#X obj 360 510 s bar-length-\$0;
#X obj 210 510 s offset-\$0;
#X obj 70 500 s num-hits-\$0;
#X obj 2272 652 r bar-length-\$0;
#X obj 2612 902 r offset-\$0;
#X obj 2512 992 r num-hits-\$0;
#X obj 2402 802 f, f 40;
#X obj 2402 862 until;
#X text 2762 1862 comment;
#X obj 2402 952 counter, f 11;
#X obj 2402 1192 pack 0 f f;
#X obj 2402 1092 t b f;
#X obj 2502 862 array size rhythm-\$0;
#X obj 2402 832 t f f, f 17;
#X obj 2402 1282 tabwrite rhythm-\$0;
#X obj 2402 1252 unpack;
#X obj 2402 1222 route 0;
#X obj 2512 1022 t b b f, f 24;
#X obj 2612 932 t b b f, f 27;
#X obj 2272 682 t b b f f, f 91;
#X obj 510 1020 *;
#X obj 510 1080 tabread rhythm-\$0;
#X obj 110 170 hsl 85 15 0 5.9 0 1 from-units-\$0 to-units-\$0 units:bars(5)
6 6 0 10 #ffffff #000000 #000000 8400 1;
#X obj 110 150 nbx 9 15 1 1e+37 0 1 from-duration-\$0 to-duration-\$0
duration 40 6 0 10 #fcfcfc #000000 #000000 1 256 0;
#N canvas 536 233 450 305 tick-calculator 0;
#X obj 73 -159 i;
#X msg 73 -39 list ticks 16ths 12ths 8ths beats bars, f 18;
#X obj 73 17 cyclone/zl nth, f 21;
#X obj 73 -69 t b f, f 21;
#X obj 73 -99 + 1;
#X text 230 -35 todo: calculate bars according to time signature,
f 17;
#X obj 217 17 cyclone/zl nth, f 21;
#X obj 217 -99 t b f, f 21;
#X msg 217 -69 1 6 8 12 24 96, f 18;
#X obj 216 106 *;
#X obj 229 70 t b f;
#X obj 72 -193 inlet;
#X obj 238 38 inlet;
#X obj 70 160 outlet;
#X obj 214 160 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 3 0;
#X connect 4 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 7 1 6 1;
#X connect 8 0 6 0;
#X connect 9 0 14 0;
#X connect 10 0 9 0;
#X connect 10 1 9 1;
#X connect 11 0 0 0;
#X connect 12 0 10 0;
#X restore 120 860 pd tick-calculator;
#X obj 70 760 r from-units-\$0;
#X obj 180 830 r from-duration-\$0;
#X obj 180 890 s duration-ticks-\$0;
#X obj 70 1050 s to-units-\$0;
#X obj 70 800 t f f, f 8;
#X obj 720 951 i;
#X obj 720 980 %;
#X obj 759 948 r duration-ticks-\$0;
#X obj 720 920 route ticks;
#X obj 720 830 r bop-time;
#X obj 720 1010 /, f 7;
#X obj 2432 1142 euclid ukulele, f 60;
#X obj 2622 962 s reset-counter-\$0;
#X obj 2422 922 r reset-counter-\$0;
#X obj 2512 1052 s reset-counter-\$0;
#X obj 2452 712 s reset-counter-\$0;
#X obj 2612 982 s trigger-euclid-\$0;
#X obj 2462 1082 s trigger-euclid-\$0;
#X obj 2402 762 r trigger-euclid-\$0;
#X obj 2272 712 s trigger-euclid-\$0;
#X obj 220 50 declare -path ./subpatches/euclidean;
#N canvas 0 0 450 300 looping 0;
#X obj 160 240 gate 2, f 14;
#X obj 160 203 + 1;
#X obj 80 300 t b 0 b;
#X obj 390 218 i;
#X obj 390 189 spigot;
#X obj 390 276 change;
#X obj 390 305 sel 0;
#X obj 390 247 %;
#X text 350 80 ‚è∞ RETRIGGER OFF OF TICKS % DURATIONüëá;
#X text 168 133 Stop if not looping üëá;
#X obj 160 170 r from-loop-\$0;
#X obj 242 202 r endbang-\$0;
#X obj 80 402 s to-seq-\$0;
#X obj 458 159 r from-loop-\$0;
#X obj 429 215 r duration-ticks-\$0;
#X obj 390 334 s start-\$0;
#X obj 350 160 route ticks;
#X obj 350 130 r bop-time;
#X msg 242 355 start -1;
#X obj 242 389 s to-seq-\$0;
#X msg 80 368 goto 0;
#X obj 90 340 s to-play-\$0;
#X text 40 495 todo: fix looping behaviour;
#X text 40 520 if looping longer than duration of the clip \, playback
should pause until loop length comes around, f 33;
#X connect 0 0 2 0;
#X connect 0 1 18 0;
#X connect 1 0 0 0;
#X connect 2 0 20 0;
#X connect 2 1 21 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 15 0;
#X connect 7 0 5 0;
#X connect 10 0 1 0;
#X connect 11 0 0 1;
#X connect 13 0 4 1;
#X connect 14 0 7 1;
#X connect 16 0 4 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 20 0 12 0;
#X restore 1388 972 pd looping reference;
#X obj 720 1090 s to-position-\$0;
#X obj 110 260 hsl 185 15 0 24 0 1 from-hits-\$0 to-hits-\$0 hits:2
5 5 0 10 #fcfcfc #000000 #000000 1600 1;
#X obj 70 530 r from-hits-\$0;
#X obj 70 590 s to-hits-\$0;
#X obj 70 560 sprintf label hits:%i;
#X obj 70 400 r from-hits-\$0;
#X obj 110 280 hsl 185 15 0 24 0 1 from-offset-\$0 to-offset-\$0 offset:1
5 5 0 10 #fcfcfc #000000 #000000 1500 1;
#X obj 210 530 r from-offset-\$0;
#X obj 210 590 s to-offset-\$0;
#X obj 210 560 sprintf label offset:%i;
#X obj 210 400 r from-offset-\$0;
#X obj 360 530 r from-divisions-\$0;
#X obj 360 590 s to-divisions-\$0;
#X obj 360 560 sprintf label divisions:%i;
#X obj 110 240 hsl 185 15 0 24 0 1 from-divisions-\$0 to-divisions-\$0
divisions:4 5 5 0 10 #fcfcfc #000000 #000000 3833 1;
#X obj 360 400 r from-divisions-\$0;
#X obj 70 440 i;
#X obj 210 440 i;
#X obj 360 440 i;
#X obj 210 150 hsl 85 15 0 11 0 1 from-note-\$0 to-note-\$0 note:b(2)
5 5 0 10 #fcfcfc #000000 #000000 1900 1;
#X obj 70 620 r from-note-\$0;
#X obj 70 680 s to-note-\$0;
#N canvas 536 234 450 303 make-note-label 0;
#X obj 80 270 list split;
#X msg 110 300 \$1;
#X obj 40 130 clip 0 11;
#X obj 40 80 i;
#X obj 110 330 pack s f;
#X obj 40 100 change;
#X msg 110 360 label note:\$1(\$2);
#X obj 40 160 t f b f f, f 20;
#X obj 13 26 inlet;
#X obj 110 410 outlet;
#X msg 80 200 a a# b c c# d d# e f f# g g#, f 8;
#X connect 0 1 1 0;
#X connect 1 0 4 0;
#X connect 2 0 7 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 2 0;
#X connect 6 0 9 0;
#X connect 7 1 10 0;
#X connect 7 2 0 1;
#X connect 7 3 4 1;
#X connect 8 0 3 0;
#X connect 10 0 0 0;
#X restore 70 650 pd make-note-label;
#X obj 210 170 hsl 85 15 0 8.9 0 1 from-octave-\$0 to-octave-\$0 octave:4
5 5 0 10 #fcfcfc #000000 #000000 4650 1;
#X obj 190 650 sprintf label octave:%i;
#X obj 190 620 r from-octave-\$0;
#X obj 190 680 s to-octave-\$0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array rhythm-\$0 4 float 23 #bca9fc black;
#A 0 0 1 0 0.691328;
#X coords 0 1 4 0 190 25 1;
#X restore 110 210 graph;
#X obj 110 190 hsl 185 15 0 1 0 0 from-position-\$0 to-position-\$0
position:0.958333 5 5 0 10 #fcfcfc #000000 #000000 17633 1;
#X obj 810 160 r from-units-\$0;
#X obj 790 140 r from-duration-\$0;
#X obj 750 100 r from-hits-\$0;
#X obj 770 120 r from-offset-\$0;
#X obj 730 80 r from-divisions-\$0;
#X obj 830 180 r from-note-\$0;
#X obj 840 200 r from-octave-\$0;
#X obj 880 240 r from-play-\$0;
#X obj 860 220 r from-loop-\$0;
#X obj 360 630 r from-position-\$0;
#X obj 360 690 s to-position-\$0;
#X obj 720 340 pack f f f f f f f f f;
#X obj 800 635 s to-divisions-\$0;
#X obj 810 615 s to-hits-\$0;
#X obj 820 595 s to-offset-\$0;
#X obj 830 575 s to-duration-\$0;
#X obj 840 555 s to-units-\$0;
#X obj 850 535 s to-note-\$0;
#X obj 860 515 s to-octave-\$0;
#X obj 870 495 s to-loop-\$0;
#X obj 880 475 s to-play-\$0;
#X obj 740 440 unpack f f f f f f f f f;
#X obj 740 850 r from-play-\$0;
#X obj 720 890 spigot;
#X obj 1660 370 s to-divisions-\$0;
#X obj 1710 350 s to-hits-\$0;
#X obj 1750 330 s to-offset-\$0;
#X obj 1790 310 s to-duration-\$0;
#X obj 1830 290 s to-units-\$0;
#X obj 1870 270 s to-note-\$0;
#X obj 1920 250 s to-octave-\$0;
#X obj 1960 230 s to-loop-\$0;
#X obj 2000 210 s to-play-\$0;
#X obj 430 1380 r from-note-\$0;
#X obj 440 1400 r from-octave-\$0;
#X obj 410 1720 s to-note-out-\$0;
#X obj 440 1430 t b f, f 19;
#X obj 410 1510 f;
#X obj 340 910 r from-position-\$0;
#X obj 70 1010 sprintf label units:%s(%i), f 14;
#X obj 70 930 pack f s;
#X msg 70 970 \$2 \$1;
#X obj 120 890 tosymbol;
#X obj 340 1200 f;
#X obj 340 1020 *;
#X obj 380 980 r from-divisions-\$0;
#X obj 340 1050 int;
#X obj 340 1160 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 340 940 t f f, f 29;
#X obj 560 960 r from-divisions-\$0;
#X obj 340 1100 clip 0;
#X obj 510 1050 clip 0, f 7;
#X obj 340 1130 change -1;
#X text 370 1190 1 for note one;
#X text 370 1215 0 for note off;
#X obj 410 1310 * 127;
#X obj 410 1540 pack f f, f 34;
#X obj 430 1470 expr $i1 + 1 + (12 * ($i2+1));
#X obj 359 660 sprintf label position:%f;
#X obj 410 1640 cyclone/midiflush;
#X obj 430 1610 r flush-\$0;
#X obj 410 1350 t b f, f 34;
#X obj 410 1580 cyclone/midiformat;
#X obj 410 1680 cyclone/midiparse;
#X obj 1660 140 route divisions hits offset duration units note octave
loop play position, f 64;
#X obj 2010 190 s to-position-\$0;
#X obj 410 1270 t f b;
#X obj 520 1300 s flush-\$0;
#X obj 520 1270 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 380 1010 int;
#X obj 560 990 int;
#X obj 580 1240 r from-note-\$0;
#X obj 560 1220 r from-octave-\$0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 8 0;
#X connect 4 0 166 0;
#X connect 9 0 16 0;
#X connect 13 0 7 0;
#X connect 14 0 17 0;
#X connect 14 1 10 0;
#X connect 16 0 113 0;
#X connect 17 0 18 0;
#X connect 17 1 123 0;
#X connect 18 0 19 0;
#X connect 22 0 28 0;
#X connect 23 0 27 0;
#X connect 24 0 26 0;
#X connect 25 0 37 0;
#X connect 29 0 45 0;
#X connect 30 0 44 0;
#X connect 31 0 43 0;
#X connect 32 0 39 0;
#X connect 33 0 35 0;
#X connect 35 0 25 0;
#X connect 36 0 42 0;
#X connect 37 0 36 0;
#X connect 37 1 62 0;
#X connect 39 0 33 0;
#X connect 39 1 38 0;
#X connect 41 0 40 0;
#X connect 41 1 40 1;
#X connect 42 0 41 0;
#X connect 43 0 68 0;
#X connect 43 1 65 0;
#X connect 43 2 62 1;
#X connect 44 0 67 0;
#X connect 44 1 63 0;
#X connect 44 2 62 2;
#X connect 45 0 70 0;
#X connect 45 1 66 0;
#X connect 45 2 32 1;
#X connect 45 3 62 3;
#X connect 46 0 153 0;
#X connect 47 0 145 1;
#X connect 50 0 144 0;
#X connect 50 1 53 0;
#X connect 51 0 55 0;
#X connect 52 0 50 1;
#X connect 55 0 142 0;
#X connect 55 1 50 0;
#X connect 56 0 57 0;
#X connect 57 0 61 0;
#X connect 58 0 57 1;
#X connect 58 0 61 1;
#X connect 59 0 56 0;
#X connect 60 0 125 0;
#X connect 61 0 73 0;
#X connect 62 0 36 1;
#X connect 62 1 36 2;
#X connect 64 0 35 2;
#X connect 69 0 32 0;
#X connect 75 0 77 0;
#X connect 77 0 76 0;
#X connect 78 0 89 0;
#X connect 80 0 82 0;
#X connect 82 0 81 0;
#X connect 83 0 90 0;
#X connect 84 0 86 0;
#X connect 86 0 85 0;
#X connect 88 0 91 0;
#X connect 89 0 22 0;
#X connect 90 0 23 0;
#X connect 91 0 24 0;
#X connect 93 0 95 0;
#X connect 95 0 94 0;
#X connect 97 0 99 0;
#X connect 98 0 97 0;
#X connect 102 0 113 4;
#X connect 103 0 113 3;
#X connect 104 0 113 1;
#X connect 105 0 113 2;
#X connect 106 0 16 1;
#X connect 107 0 113 5;
#X connect 108 0 113 6;
#X connect 109 0 113 8;
#X connect 110 0 113 7;
#X connect 111 0 160 0;
#X connect 113 0 14 0;
#X connect 123 0 114 0;
#X connect 123 1 115 0;
#X connect 123 2 116 0;
#X connect 123 3 117 0;
#X connect 123 4 118 0;
#X connect 123 5 119 0;
#X connect 123 6 120 0;
#X connect 123 7 121 0;
#X connect 123 8 122 0;
#X connect 124 0 125 1;
#X connect 125 0 59 0;
#X connect 135 0 159 0;
#X connect 136 0 138 0;
#X connect 138 0 159 0;
#X connect 138 1 159 1;
#X connect 139 0 158 0;
#X connect 140 0 150 0;
#X connect 141 0 54 0;
#X connect 142 0 143 0;
#X connect 143 0 141 0;
#X connect 144 0 142 1;
#X connect 145 0 168 0;
#X connect 146 0 148 0;
#X connect 147 0 171 0;
#X connect 148 0 152 0;
#X connect 149 0 145 0;
#X connect 150 0 146 0;
#X connect 150 1 46 0;
#X connect 151 0 172 0;
#X connect 152 0 154 0;
#X connect 153 0 47 0;
#X connect 154 0 149 0;
#X connect 157 0 163 0;
#X connect 158 0 164 0;
#X connect 159 0 139 1;
#X connect 160 0 112 0;
#X connect 161 0 165 0;
#X connect 162 0 161 0;
#X connect 163 0 139 0;
#X connect 163 1 158 1;
#X connect 164 0 161 0;
#X connect 165 0 137 0;
#X connect 166 0 126 0;
#X connect 166 1 127 0;
#X connect 166 2 128 0;
#X connect 166 3 129 0;
#X connect 166 4 130 0;
#X connect 166 5 131 0;
#X connect 166 6 132 0;
#X connect 166 7 133 0;
#X connect 166 8 134 0;
#X connect 166 9 167 0;
#X connect 168 0 157 0;
#X connect 168 1 170 0;
#X connect 170 0 169 0;
#X connect 171 0 146 1;
#X connect 171 0 152 2;
#X connect 172 0 46 1;
#X connect 172 0 153 2;
#X connect 173 0 170 0;
#X connect 174 0 170 0;
#X coords 0 -1 1 1 210 210 2 100 100;
